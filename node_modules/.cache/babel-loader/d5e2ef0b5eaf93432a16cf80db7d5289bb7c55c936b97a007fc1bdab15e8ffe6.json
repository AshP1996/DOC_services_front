{"ast":null,"code":"var _jsxFileName = \"/home/developer/Documents/temp/react/my-app/src/dashboard/components/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate for navigation\nimport { getDoctorProfile } from \"../services/api\";\nimport \"../styles/Profile.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconsole.log(\"Entering Profile component\");\nconst Profile = () => {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // Initialize useNavigate for redirection\n\n  const fetchProfile = useCallback(async () => {\n    console.log(\"Fetching profile data...\");\n    try {\n      const profileData = await getDoctorProfile();\n      console.log(\"Fetched Profile Data:\", profileData);\n      setProfile(profileData); // Set profile data\n    } catch (error) {\n      console.error(\"Error in fetchProfile:\", error);\n      setError(error.message || \"Failed to load profile. Redirecting to login...\");\n      // Redirect to login if the token is invalid or missing\n      // setTimeout(() => {\n      //   navigate(\"/login\"); // Redirect to login after 2 seconds\n      // });\n    } finally {\n      setLoading(false); // Stop the loading spinner\n    }\n  });\n  useEffect(() => {\n    console.log(\"Profile component mounted, fetching profile...\");\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) {\n      console.error(\"No access token found. Redirecting to login...\");\n      navigate(\"/login\"); // Redirect to login immediately if token is missing\n      return;\n    }\n    fetchProfile(); // Fetch profile if token exists\n  }, [fetchProfile, navigate]); // Include fetchProfile and navigate in the dependency array\n\n  // Debugging: Log whenever profile updates\n  useEffect(() => {\n    if (profile) console.log(\"Profile updated:\", profile);\n  }, [profile]);\n  console.log(\"Entering Profile component stage 1 \");\n  // Placeholder image fallback\n  const profilePicUrl = (profile === null || profile === void 0 ? void 0 : profile.profile_pic) || \"/images/placeholder.png\";\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading profile...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 23\n  }, this); // Show loading spinner/message\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile\",\n    children: error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Redirecting to login...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : profile && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-pic-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: profilePicUrl,\n            alt: \"Profile Pic\",\n            className: \"profile-pic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: profile.name || \"N/A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [{\n          label: \"Degree\",\n          value: profile.degree\n        }, {\n          label: \"Email\",\n          value: profile.email\n        }, {\n          label: \"Phone\",\n          value: profile.phone_number\n        }, {\n          label: \"City\",\n          value: profile.city\n        }, {\n          label: \"Description\",\n          value: profile.description\n        }, {\n          label: \"Hospital\",\n          value: profile.hospital\n        }, {\n          label: \"Experience\",\n          value: `${profile.experience} years`\n        }, {\n          label: \"Fees\",\n          value: profile.fees\n        }, {\n          label: \"Top Expertise\",\n          value: profile.top_expertise\n        }, {\n          label: \"Rating\",\n          value: profile.rating\n        }, {\n          label: \"Address\",\n          value: profile.address\n        }, {\n          label: \"Area\",\n          value: profile.area\n        }].map(({\n          label,\n          value\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-info-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"label\",\n            children: [label, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: value || \"N/A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this)]\n        }, label, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"YgUsxUJVNt6ah+ZFkWiSbuH/JMg=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","getDoctorProfile","jsxDEV","_jsxDEV","console","log","Profile","_s","profile","setProfile","error","setError","loading","setLoading","navigate","fetchProfile","profileData","message","token","localStorage","getItem","profilePicUrl","profile_pic","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","alt","name","label","value","degree","email","phone_number","city","description","hospital","experience","fees","top_expertise","rating","address","area","map","_c","$RefreshReg$"],"sources":["/home/developer/Documents/temp/react/my-app/src/dashboard/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // Import useNavigate for navigation\nimport { getDoctorProfile } from \"../services/api\";\nimport \"../styles/Profile.css\";\n\nconsole.log(\"Entering Profile component\");\n\nconst Profile = () => {\n  const [profile, setProfile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // Initialize useNavigate for redirection\n\n  const fetchProfile = useCallback(async () => {\n    console.log(\"Fetching profile data...\");\n    try {\n      const profileData = await getDoctorProfile();\n      console.log(\"Fetched Profile Data:\", profileData);\n      setProfile(profileData); // Set profile data\n    } catch (error) {\n      console.error(\"Error in fetchProfile:\", error);\n      setError(error.message || \"Failed to load profile. Redirecting to login...\");\n      // Redirect to login if the token is invalid or missing\n      // setTimeout(() => {\n      //   navigate(\"/login\"); // Redirect to login after 2 seconds\n      // });\n    } finally {\n      setLoading(false); // Stop the loading spinner\n    }\n  });\n\n  useEffect(() => {\n    console.log(\"Profile component mounted, fetching profile...\");\n    const token = localStorage.getItem(\"accessToken\");\n    if (!token) {\n      console.error(\"No access token found. Redirecting to login...\");\n      navigate(\"/login\"); // Redirect to login immediately if token is missing\n      return;\n    }\n    fetchProfile(); // Fetch profile if token exists\n  }, [fetchProfile, navigate]); // Include fetchProfile and navigate in the dependency array\n\n  // Debugging: Log whenever profile updates\n  useEffect(() => {\n    if (profile) console.log(\"Profile updated:\", profile);\n  }, [profile]);\n  console.log(\"Entering Profile component stage 1 \");\n  // Placeholder image fallback\n  const profilePicUrl = profile?.profile_pic || \"/images/placeholder.png\";\n\n  if (loading) return <p>Loading profile...</p>; // Show loading spinner/message\n\n  return (\n    <div className=\"profile\">\n      {error ? (\n        <div>\n          <p className=\"error\">{error}</p>\n          <p>Redirecting to login...</p>\n        </div>\n      ) : (\n        profile && (\n          <div>\n            <div className=\"profile-header\">\n              <div className=\"profile-pic-wrapper\">\n                <img src={profilePicUrl} alt=\"Profile Pic\" className=\"profile-pic\" />\n              </div>\n              <h2>{profile.name || \"N/A\"}</h2>\n            </div>\n            <div className=\"profile-info\">\n              {[\n                { label: \"Degree\", value: profile.degree },\n                { label: \"Email\", value: profile.email },\n                { label: \"Phone\", value: profile.phone_number },\n                { label: \"City\", value: profile.city },\n                { label: \"Description\", value: profile.description },\n                { label: \"Hospital\", value: profile.hospital },\n                { label: \"Experience\", value: `${profile.experience} years` },\n                { label: \"Fees\", value: profile.fees },\n                { label: \"Top Expertise\", value: profile.top_expertise },\n                { label: \"Rating\", value: profile.rating },\n                { label: \"Address\", value: profile.address },\n                { label: \"Area\", value: profile.area },\n              ].map(({ label, value }) => (\n                <div key={label} className=\"profile-info-item\">\n                  <p className=\"label\">{label}:</p>\n                  <p>{value || \"N/A\"}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}